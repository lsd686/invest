CREATE DATABASE /*!32312 IF NOT EXISTS*/`iims` /*!40100 DEFAULT CHARACTER SET utf8 COLLATE utf8_bin */;
USE `iims`;
/*Table structure for table `act` */
DROP TABLE IF EXISTS `proj`;
CREATE TABLE proj (
    id INT(10) AUTO_INCREMENT NOT NULL PRIMARY KEY,
    projName VARCHAR(20) NOT NULL,
    projNo VARCHAR(20) NOT NULL,
    note VARCHAR(100)
);

DROP TABLE IF EXISTS `trace`;
CREATE TABLE trace (
	`id` INT(10) AUTO_INCREMENT NOT NULL,
    `projId` INT(10) NOT NULL,
    TIME DATE NOT NULL,
    `price` DOUBLE NOT NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT `con_abc` FOREIGN KEY (`projId`) REFERENCES `proj` (`id`) ON DELETE CASCADE
);

DROP TABLE IF EXISTS `trans`;
CREATE TABLE `trans` (
`id` INT(10)  NOT NULL AUTO_INCREMENT,
    `projId` INT(10) NOT NULL,
    `time` DATE NOT NULL,
    `price` DOUBLE NOT NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT FOREIGN KEY (`projId`) REFERENCES `proj`(`id`)  ON DELETE CASCADE
);